(this["webpackJsonpc1-4"]=this["webpackJsonpc1-4"]||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(2),r=a.n(c),i=a(10),s=a.n(i),o=(a(17),a(18),a(1)),l=a.n(o),d=a(3),u=a(4),h=a(5),j=a(7),p=a(6),b=(a(9),a(20),"https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api"),v={getLocationData:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b,a+="object"===typeof t?"/location/search/?lattlong=".concat(t.latitude,",").concat(t.longitude):"/location/search/?query=".concat(t),e.next=4,fetch(a);case 4:if(!(n=e.sent).ok){e.next=10;break}return e.next=8,n.json();case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getWeatherData:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(b,"/location/").concat(t),e.next=3,fetch(a);case 3:if(!(n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=a(11),m=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={locationQuery:"",locationList:[]},e.handleSearch=function(){var t=Object(d.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getLocationData(a.target.value);case 2:n=t.sent,e.setState({locationQuery:a.target.value,locationList:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleLocationListSelect=function(){var t=Object(d.a)(l.a.mark((function t(a){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.locationList[a],e.setState({locationQuery:n.title,locationList:[]}),e.props.updateWidgetState({loading:!0}),t.next=5,v.getWeatherData(n.woeid.toString());case 5:c=t.sent,e.props.updateWidgetState({weatherData:c,loading:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(a,[{key:"render",value:function(){var e,t=this;return Object(n.jsxs)("div",{className:"searchBar",children:[Object(n.jsxs)("div",{className:"input-group col-sm-12",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:Object(n.jsx)("i",{className:"fas fa-search"})})}),Object(n.jsx)(f.DebounceInput,{"aria-label":"search location",debounceTimeout:500,onChange:function(e){return t.handleSearch(e)},value:this.state.locationQuery,placeholder:"Search"}),Object(n.jsx)("div",{className:"input-group-append ",children:Object(n.jsx)("button",{"aria-label":"weather by geolocation",className:"btn btn-outline-secondary",type:"button",onClick:this.props.handleGeolocation,children:Object(n.jsx)("i",{className:"fas fa-map-marker-alt"})})})]}),Object(n.jsx)("ul",{className:"list-group",children:null===(e=this.state.locationList)||void 0===e?void 0:e.map((function(e,a){return Object(n.jsx)("li",{className:"list-group-item searchResult",onClick:function(){return t.handleLocationListSelect(a)},children:e.title},a)}))})]})}}]),a}(r.a.Component),x=function(e,t){if(void 0!==e){var a=1;if(t)for(var n=0;n<t;n++)a*=10;return Math.round((e+Number.EPSILON)*a)/a}},O=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={consolidated_weather:null},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.setState({consolidated_weather:this.props.weatherData})}},{key:"render",value:function(){var e=this.state.consolidated_weather;return Object(n.jsx)("div",{className:"col-sm-12",children:Object(n.jsx)("div",{className:"card bg-transparent border-0","aria-label":null===e||void 0===e?void 0:e.applicable_date,children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("h2",{children:"Today"}),Object(n.jsx)("h2",{children:null===e||void 0===e?void 0:e.applicable_date}),Object(n.jsx)("img",{src:"https://www.metaweather.com/static/img/weather/".concat(null===e||void 0===e?void 0:e.weather_state_abbr,".svg")}),Object(n.jsx)("h3",{children:null===e||void 0===e?void 0:e.weather_state_name})]}),Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)("div",{className:"WeatherLargeCardDetails",children:Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:["Min ",Object(n.jsx)("i",{className:"fas fa-temperature-low"})," ",x(null===e||void 0===e?void 0:e.min_temp,2),"\xb0C"]}),Object(n.jsxs)("li",{children:["Max ",Object(n.jsx)("i",{className:"fas fa-temperature-high"})," ",x(null===e||void 0===e?void 0:e.max_temp,2),"\xb0C"]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("i",{className:"fas fa-wind"})," Direction: ",null===e||void 0===e?void 0:e.wind_direction_compass]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("i",{className:"fas fa-wind"})," Speed: ",x(null===e||void 0===e?void 0:e.wind_speed,2),"mph"]})]})})})]})})})})}}]),a}(r.a.Component),w=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={consolidated_weather:null},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.setState({consolidated_weather:this.props.weatherData})}},{key:"render",value:function(){var e=this.state.consolidated_weather;return Object(n.jsx)("div",{className:"col-sm-4",children:Object(n.jsx)("div",{className:"card bg-transparent border-0","aria-label":null===e||void 0===e?void 0:e.applicable_date,children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h2",{children:null===e||void 0===e?void 0:e.applicable_date}),Object(n.jsx)("img",{src:"https://www.metaweather.com/static/img/weather/".concat(null===e||void 0===e?void 0:e.weather_state_abbr,".svg")}),Object(n.jsx)("h3",{children:null===e||void 0===e?void 0:e.weather_state_name}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:["Min ",Object(n.jsx)("i",{className:"fas fa-temperature-low"})," ",x(null===e||void 0===e?void 0:e.min_temp,2),"\xb0C"]}),Object(n.jsxs)("li",{children:["Max ",Object(n.jsx)("i",{className:"fas fa-temperature-high"})," ",x(null===e||void 0===e?void 0:e.max_temp,2),"\xb0C"]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("i",{className:"fas fa-wind"})," Direction: ",null===e||void 0===e?void 0:e.wind_direction_compass]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("i",{className:"fas fa-wind"})," Speed: ",x(null===e||void 0===e?void 0:e.wind_speed,2),"mph"]})]})]})})})}}]),a}(r.a.Component),g=a.p+"static/media/loading.39e47ba4.svg",y=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={weatherData:null,loading:!0},e.updateWidgetState=function(t){e.setState(t)},e.handleGeolocation=function(){if(navigator.geolocation){e.updateWidgetState({loading:!0});navigator.geolocation.getCurrentPosition(function(){var t=Object(d.a)(l.a.mark((function t(a){var n,c,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n={latitude:a.coords.latitude,longitude:a.coords.longitude}).latitude||!n.longitude){t.next=16;break}return t.prev=2,t.next=5,v.getLocationData(n);case 5:return c=t.sent,t.next=8,v.getWeatherData(c[0].woeid);case 8:r=t.sent,e.updateWidgetState({weatherData:r,loading:!1}),t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(2),e.updateWidgetState({loading:!1}),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}())}else e.updateWidgetState({loading:!1}),alert("Geolocation is not supported by this browser.")},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.handleGeolocation();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.title!==this.props.title&&this.setState({title:this.props.title})}},{key:"render",value:function(){var e,t,a;return Object(n.jsx)("div",{className:"WeatherForecastWidget",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("h1",{children:[Object(n.jsx)("a",{href:"https://www.metaweather.com/",children:"MetaWeather"})," @ ",null===(e=this.state.weatherData)||void 0===e?void 0:e.title]})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)(m,{"aria-label":"search bar",updateWidgetState:this.updateWidgetState,handleGeolocation:this.handleGeolocation})}),Object(n.jsx)("div",{className:"row",children:this.state.loading?Object(n.jsx)("img",{src:g}):Object(n.jsx)(O,{weatherData:null===(t=this.state.weatherData)||void 0===t?void 0:t.consolidated_weather[0]})}),Object(n.jsx)("div",{className:"row",children:this.state.loading?Object(n.jsx)("div",{}):null===(a=this.state.weatherData)||void 0===a?void 0:a.consolidated_weather.slice(1,4).map((function(e){return Object(n.jsx)(w,{weatherData:e})}))})]})})}}]),a}(r.a.Component);a(24);var N=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(y,{})})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,26)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root")),_()},9:function(e,t,a){}},[[25,1,2]]]);
//# sourceMappingURL=main.c1efae3d.chunk.js.map